**题目**
给你一个正整数 n ，生成一个包含 1 到 n2 所有元素，且元素按顺时针顺序螺旋排列的 n x n 正方形矩阵 matrix 。

示例1：
<img src="https://assets.leetcode.com/uploads/2020/11/13/spiraln.jpg">
输入：n = 3
输出：[[1,2,3],[8,9,4],[7,6,5]]

示例 2：
输入：n = 1
输出：[[1]]

**思路**
根据画图，可以得出规律:
1.填充上行从左到右
2.填充右列从上到下
3.填充下行从右到左
4.填充左列从下到上

由外向内一圈一圈这么画下去。
这里一圈下来，我们要画每四条边，**每画一条边都要坚持一致的左闭右开，或者左开又闭的原则。**

<img src="https://mmbiz.qpic.cn/mmbiz_png/ciaqDnJprwv75lvFebqBLu3d5uGMdAw1edpy4wAhTOucI7Bl63R2IQZwbpHlNzjXLhq4uVqA0jCzD8esO1KBOEA/640?wx_fmt=png&tp=webp&wxfrom=5&wx_lazy=1&wx_co=1">

loop=n/2 可以表示需要循环的圈数，如n=3时，只需要循环一圈。n=4时，需要循环两圈。
offset代表画每一个边时，需要循环的次数。

**代码**

```java
class Solution {
    public int[][] generateMatrix(int n) {
    int[][] arr = new int[n][n];
    int loop = n/2;
    int x = 0 ;//表示横坐标
    int y = 0 ;//表示纵坐标
    int num = 1;
    int offset = n-1; // 每一圈循环，需要控制每一条边遍历的长度
    while(loop-- > 0){
        //1.填充上行从左到右
        for(int i=0;i<offset;i++)
            arr[y][x++] = num ++;
        //2.填充右列从上到下
        for(int i=0;i<offset;i++)
            arr[y++][x] = num++;
        //3.填充下行从右到左
        for(int i=0;i<offset;i++)
            arr[y][x--] = num ++;
        //4.填充左列从下到上
        for(int i=0;i<offset;i++)
            arr[y--][x] = num ++;
        //第二圈开始的时候，起始位置要各自加1
        x++;
        y++;
        offset -= 2;
    }
    //判断是否需要填充中间的数
    if(n%2 == 1)
        arr[y][x] = num;
    return arr;
    }
}
```

